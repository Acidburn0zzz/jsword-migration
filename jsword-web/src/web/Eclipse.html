<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Setting Up Eclipse for JSword and BibleDesktop</title>
</head>
<body>
<h1>Setting Up Eclipse for JSword and BibleDesktop</h1>
<p>
  JSword and Bible Desktop are being actively developed in Eclipse.
  While this is not an endorsement of Eclipse, you will find project
  files for Eclipse that will speed your ability to develop JSword.
  You may use any other means of developing JSword, but we may not be
  able to provide guidance.
</p>
<p>
  This document should help you set up Eclipse so you can help develop
  JSword and BibleDesktop. If you find it incomplete, please let us know
  or once you have Eclipse set up, make the changes and send us a patch.
</p>

<h2>Obtain and install Sun's Java 1.4.2_x</h2>
<p>
  To develop JSword with Eclipse, you will need to tell it to use
  Sun's Java 1.4.2. We recommend using the most recent point release
  which at the time of this writing was 1.4.2_11. You can get Sun's Java 
  <a href="http://java.sun.com/j2se/1.4.2/download.html">here</a>.
  You can find instructions on installing Sun's Java for Linux under
  <a name="linuxjava" href="linuxjava.html">Installing Java for Linux</a>.
</p>
<p>
  If possible set an environment variable, <code>JAVA_HOME</code> to point to 
  the directory you just created. This might be something like <code>C:\Java\j2sdk1.4.2_11</code>.
</p>
<p>
  We develop under 1.4.2, but routinely test against 1.5. We will move to 1.5
  when it is well supported on all the platforms to which we deploy. Currently
  these are Windows, Mac and Linux. At this time MacOS 10.3 does not support Java 1.5
  and probably will not.
</p>

<h2>Obtain and install Eclipse 3.1</h2>
<p>
  Any version of Eclipse 3.2 or higher will work well. The screenshots that
  are provided are from 3.1, Linux, GTK version, running under
  the Gnome desktop.
</p>
<p>
  You can get Eclipse for Windows, Linux and Mac from here:
  <a href="http://www.eclipse.org/downloads">http://www.eclipse.org/downloads</a>.
  Some Linux distributions provide Eclipse, but they are generally a release or two behind
  and often lack some functionality. For this reason only, they are not recommended.
  The download will be about 100M, so it is best to have a broadband connection.
  With Windows and Mac, you will only have one choice. If you are running Linux, you will
  have a choice between Motif and GTK versions and if you are running Fedora Core 4 or greater,
  Eclipse is provided in the distribution as a native GTK build.
  The screenshots are from the GTK version.
</p>

<h2>Installing Eclipse</h2>
<p>
  As root on Linux or an administrator on Windows, install the program to a directory of your choice.
  Do not install it to a directory containing an existing <q>eclipse</q> directory.
  Either rename the <q>eclipse</q> directory, delete it or choose a different Eclipse location.
  For example, you might use <code>/usr/java</code> on Linux and <code>c:\java</code> on Windows.
  It will create the Eclipse installation in that directory. For Windows, just unzip
  it to the c:\java directory. For Linux, if possible, use Eclipse that comes with the distribution.
  For Linux distributions that do not provide Eclipse, in the /usr/java directory,
  run <code>gtar zxvf eclipse-SDK-3.1-linux-gtk.tar.gz</code>.
</p>
<p>
  On Windows, you will probably will want to create a shortcut for Eclipse.
  Assuming that you have installed Eclipse at c:\Eclipse, use the following as the target:<br/>
  <code>c:\eclipse\eclipse.exe -vm %JAVA_HOME%\bin\javaw -vmargs -Xmx1024M</code><br/>
</p>  

<h2>Installing Subclipse, a Subversion client</h2>
<p>
  
  Follow the instructions on the <a href="http://subclipse.tigris.org/install.html" target="subclipse">Subclipse website</a>.
</p>

<h2>Setting up the JSword projects in Eclipse</h2>

<h3>Setup an Eclipse Workspace</h3>
<p>
  When you start up Eclipse, you can choose which workspace to work
  in or you can create a new one. Eclipse will provide a default workspace
  in your home directory of <q>workspace</q>.
  <a href="images/eclipse/startup.png">[Image]</a>
  Since I develop more than one project, I want to keep each in different workspaces.
  For JSword, I use ~/eclipse/jsword.
  <a href="images/eclipse/changeworkspace.png">[Image]</a>
  Another project would be ~/eclipse/flashcards.
</p>

<h3>Welcome to Eclipse</h3>
<p>
  When you first enter Eclipse you will be presented with an opportunity
  to learn about Eclipse. You can get back to this view at anytime by choosing
  Welcome from the Help menu.
</p>
<p>
  Click on the <q>Workbench</q> button to use Eclipse.
  <a href="images/eclipse/firstrun.png">[Image]</a>
</p>

<h3>Connect to JSword's SVN repository</h3>
<p>Add the subclipse plugin from <a href="http://subclipse.tigris.org">http://subclipse.tigris.org</a>.
   Instructions are on that website.
</p>
<p>
  Add the SVN Respository Exploring perspective.
  <a href="images/eclipse/repositoryperspective.png">[Image]</a>
</p>
<ul>
  <li>This will automatically open the SVN Repository Exploring perspective.</li>
  <li>Click on the <q>Add SVN Repository</q> button.</li>
  <li>For the URL use the value: https://www.crosswire.org/svn/jsword/trunk.<br/>
    This will provide you with read-only access to the repository.
    To change the code you will submit patches which is explained below.
  </li>
  <li>Open the repository, expanding https://www.crosswire.org/svn/jsword/trunk.</li>
  <li>Select at a minimum the following:
      <ul>
        <li>bibledesktop</li>
        <li>common</li>
        <li>common-swing</li>
        <li>jsword</li>
      </ul>
  </li>
  <li>Right click on one of the selection and choose <q>Checkout...</q>
      and then click <q>Finish</q>.</li>
  <li>Later you may wish to do help maintain the website and then you will
      want bibledesktop-web and jsword-web.</li>
  <li>You don't need this perspective for day to day development,
      so you can remove it.</li>
</ul>

<h3>Setting up preferences in Eclipse</h3>
<p>
  In order to speed development we request that you conform to the style of
  coding that is currently used. Everyone has their own favorite way of doing
  things, so we had to establish one style standard. And we try to maintain these.
  You can read more about these standards <a href="writingcode.html">here</a>.
</p>
<p>
  We have saved per project settings for Eclipse 3.1. If you use an earlier version
  and you want to know how to setup Eclipse to use the same compiler settings
  as we do then the following screenshots (from an earlier version of Eclipse)
  ought to help:
</p>
<ul>
  <li><a href="images/eclipse/compiler1-style.gif">Style Tab</a></li>
  <li><a href="images/eclipse/compiler2-advanced.gif">Advanced Tab</a></li>
  <li><a href="images/eclipse/compiler3-unused.gif">Unused Code Tab</a></li>
  <li><a href="images/eclipse/compiler4-javadoc.gif">JavaDoc Tab</a></li>
  <li><a href="images/eclipse/compiler5-compliance.gif">Compliance and Classfiles Tab</a></li>
  <li><a href="images/eclipse/compiler6-build.gif">Build Path Tab</a></li>
</ul>
<p>
  In addition Eclipse provides a code formatter
  <a href="images/eclipse/FormatPrefs.png">[Image]</a>
  We have a file you can import to get the basic settings. You can find the
  file in the jsword project in the etc/eclipse/jsword-format.xml file.
  Just click on the Import button and navigate to it.
  <a href="images/eclipse/FormatPrefsLocation.png">[Image]</a>
  It is about as close as we can get to our formatting standards, but it is
  not exact. For this reason, we do not let Eclipse reformat the entire file.
</p>

<h3>Working under the Java Perspective</h3>
<p>
  Eclipse provides several perspectives under which you can develop code.
  My personal rut is the Java Perspective. This can be added in the same manner
  that the SVN Repository Exploring Perspective was added.
</p>

<h3>Working under the Team Synchronization Perspective</h3>
<p>
  This can be added in the same manner that the
  <q>SVN Repository Exploring Perspective</q> was added.
  To initially connect this perspective to the SVN Repository, click on the
  <q>Synchronize...</q> button. Click on the <q>Next</q> button and then
  the <q>Finish</q> button.
</p>
<p>
  When you make changes to any of the projects, this perspective will track the changes.
  Also, you can click the same button, now labelled <q>Sychronize SVN (Workspace)</q>
  to get the latest changes from the repository.
</p>
<p>
  To submit changes you will create a patch file, one for each project.
  Zip them all up and email it to
  <a href="mailto:jsword-devel@crosswire.org">jsword-devel@crosswire.org</a>.
  Make sure you explain in detail what you have done and how you have tested it.
</p>
<p>
  Generally, we will review the patch and apply it locally. Then we will make
  changes to make it conform to the coding standards, test it and then check it in.
  If we are in the middle of a big change that we cannot check in at the moment,
  your change may have to wait until we can commit our changes. Typically, turn
  around is a week or less.
</p>
</body>
</html>
